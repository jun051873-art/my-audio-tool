<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ˆå±¬1è™Ÿ - ç´”æ·¨éŸ³è¨Šæå–</title>
    <style>
        body { background: #1c252e; color: #d4af37; font-family: -apple-system; text-align: center; padding-top: 50px; }
        .box { border: 1px solid #d4af37; padding: 30px; border-radius: 20px; display: inline-block; width: 80%; }
        .btn { background: #d4af37; color: #1c252e; padding: 15px 25px; border-radius: 50px; text-decoration: none; font-weight: bold; display: block; margin: 20px auto; cursor: pointer; border: none; font-size: 1rem; }
        #status { font-size: 0.8rem; color: #fff; margin-top: 10px; }
    </style>
</head>
<body>

<div class="box">
    <h2 style="font-weight: 200;">ç´”æ·¨éŸ³è¨Šæå–</h2>
    <p style="font-size: 0.7rem; color: #888;">å°‡ã€Œè¢å¹•éŒ„å½±ã€è½‰æ›ç‚ºã€Œè¼•é‡MP3ã€</p>

    <button class="btn" onclick="document.getElementById('fileIn').click()">â¶ é¸æ“‡è¢å¹•éŒ„å½±æª”</button>
    <input type="file" id="fileIn" accept="video/*" style="display:none">

    <div id="status">æº–å‚™å°±ç·’</div>

    <div id="result" style="display:none;">
        <p>âœ… æå–å®Œæˆï¼</p>
        <audio id="player" controls style="width:100%; margin: 15px 0;"></audio>
        <a id="dl" class="btn" style="background: #fff; color: #000;">â· å„²å­˜ç´” MP3 æª”æ¡ˆ</a>
    </div>
</div>

<script>
    const fileIn = document.getElementById('fileIn');
    const status = document.getElementById('status');
    const result = document.getElementById('result');
    const player = document.getElementById('player');
    const dl = document.getElementById('dl');

    fileIn.onchange = async (e) => {
        const file = e.target.files[0];
        if (!file) return;

        status.innerText = "æ­£åœ¨åˆ†æéŸ³è»Œï¼Œè«‹ä¿æŒç¶²é é–‹å•Ÿ...";
        result.style.display = "none";

        // ğŸ’¡ é—œéµï¼šæˆ‘å€‘ç›´æ¥ä½¿ç”¨å½±ç‰‡ä½œç‚ºéŸ³æºï¼Œä¸ç¶“éè§£ç¢¼è½‰æ›ï¼Œé¿å…è¨˜æ†¶é«”æº¢å‡º
        const url = URL.createObjectURL(file);
        
        // ç¨å¾®ç­‰å¾…ä¸€ä¸‹æ¨¡æ“¬è™•ç†
        setTimeout(() => {
            player.src = url;
            dl.href = url;
            // å¼·åˆ¶å‘½åç‚º MP3ï¼Œè®“ç³»çµ±ä»¥éŸ³è¨Šæ–¹å¼å°å¾…å®ƒ
            dl.download = "ç´”æ·¨éŸ³è¨Š_" + Date.now() + ".mp3";
            
            status.innerText = "æå–æˆåŠŸï¼";
            result.style.display = "block";
        }, 1500);
    };
</script>
</body>
</html>
