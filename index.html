<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å°ˆå±¬ 1 è™Ÿ - é›²ç«¯æ“·å–</title>
    <style>
        :root { --bg: #1c252e; --gold: #d4af37; }
        body { background-color: var(--bg); color: #fff; font-family: -apple-system; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; box-sizing: border-box; }
        .glass-card { width: 100%; max-width: 400px; padding: 40px 25px; background: rgba(255,255,255,0.02); border-radius: 30px; border: 1px solid rgba(212, 175, 55, 0.3); text-align: center; position: relative; box-shadow: 0 30px 60px rgba(0,0,0,0.5); }
        h2 { font-weight: 200; color: var(--gold); letter-spacing: 4px; }
        
        textarea { width: 100%; height: 120px; background: rgba(0,0,0,0.2); border: 1px solid rgba(212, 175, 55, 0.2); border-radius: 15px; color: #fff; padding: 15px; box-sizing: border-box; font-size: 0.8rem; margin-top: 20px; outline: none; }
        textarea:focus { border-color: var(--gold); }

        .btn-main { display: block; width: 100%; padding: 18px; margin: 20px 0; background: transparent; color: var(--gold); border: 1px solid var(--gold); border-radius: 50px; font-size: 0.9rem; letter-spacing: 2px; cursor: pointer; transition: 0.3s; }
        .btn-main:active { transform: scale(0.95); background: rgba(212, 175, 55, 0.1); }
        
        #queue { margin-top: 20px; text-align: left; max-height: 200px; overflow-y: auto; }
        .item { padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 0.75rem; display: flex; justify-content: space-between; align-items: center; }
        .status-tag { color: var(--gold); font-size: 0.7rem; }
        .download-btn { color: #fff; text-decoration: none; border: 1px solid #fff; padding: 2px 8px; border-radius: 10px; }
    </style>
</head>
<body>

<div class="glass-card">
    <h2>é›²ç«¯éŸ³è¨Šæ“·å–</h2>
    <p style="font-size: 0.6rem; opacity: 0.5;">æ”¯æ´å–®æ›²æˆ–æ‰¹é‡æ­Œå–® (ä¸€è¡Œä¸€å€‹ç¶²å€)</p>
    
    <textarea id="urlInput" placeholder="è«‹è²¼ä¸Š YouTube ç¶²å€...&#10;https://youtube.com/...&#10;https://youtube.com/..."></textarea>
    
    <button class="btn-main" onclick="processUrls()">é–‹å§‹æ‰¹é‡è½‰æ›</button>
    
    <div id="queue"></div>
</div>

<script>
    function processUrls() {
        const input = document.getElementById('urlInput').value;
        const urls = input.split('\n').filter(url => url.trim() !== '');
        const queue = document.getElementById('queue');
        
        if (urls.length === 0) return alert("è«‹è¼¸å…¥ç¶²å€");

        urls.forEach(url => {
            const item = document.createElement('div');
            item.className = 'item';
            item.innerHTML = `
                <span style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 60%;">${url}</span>
                <span class="status-tag">è½‰æ›ä¸­...</span>
            `;
            queue.appendChild(item);

            // ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„è½‰æ› API (ä»¥é–‹æºæ¥å£ç‚ºä¾‹)
            // é€™è£¡æ¨¡æ“¬èª¿ç”¨éç¨‹ï¼Œå¯¦éš›é‹ä½œæœƒä¸²æ¥ API
            fetch(`https://api.vevioz.com/api/button/mp3/${extractID(url)}`)
                .then(() => {
                    item.querySelector('.status-tag').innerHTML = `<a href="https://api.vevioz.com/api/button/mp3/${extractID(url)}" target="_blank" class="download-btn">ğŸ“¥ ä¸‹è¼‰</a>`;
                })
                .catch(() => {
                    item.querySelector('.status-tag').innerText = "å¤±æ•—";
                });
        });
    }

    function extractID(url) {
        const regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
        const match = url.match(regExp);
        return (match && match[7].length == 11) ? match[7] : false;
    }
</script>

</body>
</html>
