<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å°ˆå±¬ 1 è™Ÿ - æ——è‰¦ç³»çµ±</title>
    <style>
        :root { --bg: #1a1c1e; --gold: #d4af37; --card: rgba(30, 32, 35, 0.95); }
        body { background: var(--bg); color: #fff; font-family: -apple-system; margin: 0; overflow: hidden; }
        
        /* é é¢åˆ‡æ›æ§åˆ¶ */
        .page { display: none; height: calc(100vh - 80px); padding: 25px; box-sizing: border-box; overflow-y: auto; }
        .page.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* è³ˆä¼¯æ–¯ç¾å­¸ï¼šé‡‘çµ²ç»ç’ƒå¡ç‰‡ */
        .glass-card { background: var(--card); border-radius: 35px; border: 1px solid rgba(212, 175, 55, 0.3); padding: 25px; backdrop-filter: blur(20px); position: relative; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        
        /* å‹•æ…‹æµå…‰æ•ˆæœ (è¨­å®šé é–‹å•Ÿæ™‚è§¸ç™¼) */
        .flow-effect::before { content: ""; position: absolute; top: 0; left: -150%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.1), transparent); transform: skewX(-20deg); animation: shine 6s infinite linear; }
        @keyframes shine { 0% { left: -150%; } 100% { left: 150%; } }

        /* åº•éƒ¨å°è¦½åˆ— */
        .nav-bar { position: fixed; bottom: 0; width: 100%; height: 80px; background: rgba(26,28,30,0.95); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid rgba(212,175,55,0.2); }
        .nav-item { text-align: center; color: #555; font-size: 0.7rem; transition: 0.3s; }
        .nav-item.active { color: var(--gold); }
        .nav-icon { font-size: 1.6rem; margin-bottom: 4px; }

        /* æ’­æ”¾é å…ƒç´  */
        .album-art { width: 220px; height: 220px; margin: 0 auto 25px; border-radius: 25px; background: #222; border: 1px solid var(--gold); box-shadow: 0 15px 30px rgba(0,0,0,0.5); }
        .ctrl-btn { background: transparent; border: none; color: var(--gold); font-size: 1.5rem; }
        .play-main { font-size: 3rem; margin: 0 20px; }

        /* æ­Œå–®èˆ‡è¨­å®šé …æ¬¡ */
        .item-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .switch { width: 44px; height: 24px; background: #333; border-radius: 20px; position: relative; }
        .switch.on { background: var(--gold); }
        .switch::after { content: ""; position: absolute; top: 2px; left: 2px; width: 20px; height: 20px; background: #fff; border-radius: 50%; transition: 0.2s; }
        .switch.on::after { left: 22px; }
    </style>
</head>
<body>

    <div id="playPage" class="page active">
        <div class="glass-card" style="text-align: center;">
            <div id="albumCover" class="album-art"></div>
            <h2 id="nowPlaying" style="font-weight: 200; margin-bottom: 5px;">å°šæœªæ’­æ”¾</h2>
            <div style="color: #8899a6; font-size: 0.8rem; margin-bottom: 25px;">å°ˆå±¬ç©ºé–“ - æ——è‰¦è½æ›¸</div>
            
            <input type="range" style="width: 100%; accent-color: var(--gold);" id="pBar">
            
            <div style="display: flex; justify-content: center; align-items: center; margin-top: 30px;">
                <button class="ctrl-btn" onclick="toggleLoop()">ğŸ”</button>
                <button class="ctrl-btn" onclick="prevTrack()">â®</button>
                <button class="ctrl-btn play-main" id="playBtn" onclick="togglePlay()">â–¶</button>
                <button class="ctrl-btn" onclick="nextTrack()">â­</button>
                <button class="ctrl-btn" id="timerDisplay" onclick="resetTimer()">â³</button>
            </div>
        </div>
    </div>

    <div id="listPage" class="page">
        <div class="glass-card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="font-weight: 200; color: var(--gold); margin: 0;">æˆ‘çš„éŸ³æ¨‚åº«</h2>
                <label style="color: var(--gold); border: 1px solid var(--gold); padding: 5px 15px; border-radius: 50px; font-size: 0.8rem;">
                    åŒ¯å…¥ MP3 <input type="file" multiple accept="audio/*" style="display:none" onchange="importMusic(event)">
                </label>
            </div>
            <div id="musicList"></div>
        </div>
    </div>

    <div id="setPage" class="page">
        <div class="glass-card flow-effect">
            <h2 style="font-weight: 200; color: var(--gold); margin-bottom: 25px;">ç³»çµ±è¨­å®š</h2>
            <div class="item-row"><span>å°é¢æµå…‰ç‰¹æ•ˆ</span><div class="switch on" onclick="this.classList.toggle('on')"></div></div>
            <div class="item-row"><span>ç¡çœ å®šæ™‚ (åˆ†)</span><input type="number" id="tInput" value="30" style="width:50px; background:none; border:1px solid var(--gold); color:#fff; text-align:center;"></div>
            <div class="item-row"><span>å–®æ›²å¾ªç’°</span><div class="switch" onclick="this.classList.toggle('on')"></div></div>
            <div class="item-row"><span>è‡ªå‹•æ¸…é™¤å¿«å–</span><div class="switch on" onclick="this.classList.toggle('on')"></div></div>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-item active" id="n1" onclick="showP('playPage','n1')"><div class="nav-icon">â–¶ï¸</div>æ’­æ”¾</div>
        <div class="nav-item" id="n2" onclick="showP('listPage','n2')"><div class="nav-icon">ğŸ“‚</div>æ­Œå–®</div>
        <div class="nav-item" id="n3" onclick="showP('setPage','n3')"><div class="nav-icon">âš™ï¸</div>è¨­å®š</div>
    </div>

<script>
    let tracks = [];
    let curIdx = 0;
    const player = new Audio();

    function showP(pId, nId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(pId).classList.add('active');
        document.getElementById(nId).classList.add('active');
    }

    function importMusic(e) {
        const files = Array.from(e.target.files);
        files.forEach(f => tracks.push({ name: f.name, url: URL.createObjectURL(f) }));
        renderList();
    }

    function renderList() {
        const list = document.getElementById('musicList');
        list.innerHTML = tracks.map((t, i) => `
            <div class="item-row" onclick="playTrack(${i})">
                <span style="font-size:0.9rem;">${t.name}</span>
                <span style="color:var(--gold);">â–¶</span>
            </div>
        `).join('');
    }

    function playTrack(i) {
        curIdx = i;
        player.src = tracks[i].url;
        document.getElementById('nowPlaying').innerText = tracks[i].name;
        player.play();
        document.getElementById('playBtn').innerText = "â¸";
        showP('playPage', 'n1');
    }

    function togglePlay() {
        if(player.paused) { player.play(); document.getElementById('playBtn').innerText = "â¸"; }
        else { player.pause(); document.getElementById('playBtn').innerText = "â–¶"; }
    }
    // æ›´å¤šåˆ‡æ›ã€å®šæ™‚é‚è¼¯å¯ä¾æ­¤é¡æ¨æ“´å……...
</script>
</body>
</html>
